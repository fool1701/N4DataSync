<!-- Htmldoc has been run -->
<!--
   @author    Brian Frank
   @creation  2 Oct 01
   @version   $Revision$ $Date$
   @since     Niagara 3.0
 -->

<html>

<head>
<title>Driver Framework</title>
<!-- Auto-generated style sheet link --><link rel='StyleSheet' href='module://bajaui/doc/style.css' type='text/css' />
<!-- Auto-generated js link for Activity Monitoring --><script type='text/javascript' src='module://web/rc/util/activityMonitor.js'></script>
<script type='text/javascript'>window.addEventListener('load', activityMonitor.start);</script>
</head>

<body>
<!-- Auto-generated Header NavBar --><p class="navbar">  <a href="/doc/index.html" class="navbar">Index</a> |  <a href="/doc/search.html" class="navbar">Prev</a> |  <a href="/doc/driverPoint.html" class="navbar">Next</a></p>


<!-- Header Navbar -->
<!-- Title Block -->
<h1 class='title'>Driver Framework</h1>

<!------------------------------------------------------------->
<h1>Overview</h1>
<!------------------------------------------------------------->

<p>The driver framework provides a common model for abstracting
how information is imported and exported from the station VM.
The model is built upon the following concepts</p>

<ul>

<li>
<code><a href='module://docDeveloper/doc/driver-rt/javax/baja/driver/BDeviceNetwork.bajadoc'>BDeviceNetwork</a></code>:
This models a physical or logical network of devices.
</li>

<li>
<code><a href='module://docDeveloper/doc/driver-rt/javax/baja/driver/BDevice.bajadoc'>BDevice</a></code>:
This models a physical or logical device such as a fieldbus device or an IP host.
</li>

<li>
<code><a href='module://docDeveloper/doc/driver-rt/javax/baja/driver/BDeviceExt.bajadoc'>BDeviceExt</a></code>:
This models a functional integration at the device level which imports
and/or exports a specific type of information such a points, histories,
alarms, or schedules.
</li>

<li>
<code><a href='module://docDeveloper/doc/driver-rt/javax/baja/driver/BNetworkExt.bajadoc'>BNetworkExt</a></code>:
This models an functional extension at the network level.
</li>

</ul>

<!------------------------------------------------------------->
<h1>Driver Hierarchy</h1>
<!------------------------------------------------------------->

<p>
Drivers are always structured according to a fixed slot hierarchy as
illustrated the <a href='arch-driverHierarchy.html'>Driver Hierarchy Diagram</a>:
</p>

<ul>

<li><b>DriverContainer</b>: Typically all drivers are located in this folder
directly under the station root.
</li>

<li><b>DeviceNetwork</b>: Models the specific driver's protocol stack.
</li>

<li><b>DeviceFolder</b>: Zero or more levels of DeviceFolder can be used to
organize the driver's Devices.
</li>

<li><b>Device</b>: Devices model the physical or logical device of the driver.
Devices are descendents of the DeviceNetwork either as direct children or
inside DeviceFolders.
</li>

<li><b>DeviceExt</b>: DeviceExts are always direct children of Devices,
typically declared as frozen slots.
</li>

</ul>

<p>
Within each DeviceExt, there is usually a well defined hierarchy.  For
example the PointDeviceExt follows a similar model with PointDeviceExt,
PointFolders, ControlPoints, and ProxyExt.
</p>

<!------------------------------------------------------------->
<h1>Status</h1>
<!------------------------------------------------------------->

<p>A key function of the driver framework is providing normalized
management of status.  The follows semantics are defined for status
flags:
</p>

<ul>
<li><b>Disabled</b>: the user manually disabled the driver component</li>
<li><b>Fault</b>: a configuration, hardware, or software error is detected</li>
<li><b>Down</b>: a communication error has occurred</li>
<li><b>Stale</b>: a situation has occurred (such as elapsed time since a read)
which renders the current value untrustworthy</li>
</ul>

<p>
The driver framework provides a standard mechanism to manage each of these
status flags.  A component is disabled when a user manually sets the enabled
property to false.  Disable automatically propagates down the tree.  For
example setting the network level disabled automatically sets all devices
and points under it disabled.
</p>

<p>
The fault status is typically a merge of multiple fault situations.  The driver
framework does its own fault detection to detect fatal faults.  Fatal faults
typically occur because a device or component has been placed inside the wrong
container (such as putting a ModbusDevice under a LonworksNetwork).  Licensing
failures can also trigger fatal faults.  Driver developers can set their own
fault conditions in networks and devices using the <code>configFail()</code>
and <code>configOk()</code> methods.  A <code>faultCause</code> method provides
a short description of why a component is in fault.  Fault conditions automaticlly
propagate down the tree.
</p>

<p>
The down status indicates a communication failure at the network or device level.
Down status is managed by the ping APIs using <code>pingFail()</code> and
<code>pingOk()</code>.  Ping status is maintained in the health property.  The
driver framework includes a <code>PingMonitor</code> which automatically
pings devices on a periodic basis to check their health.  The <code>PingMonitor</code>
can  generate alarms if it detects a device has gone down.
</p>

<!------------------------------------------------------------->
<h1>DeviceExts</h1>
<!------------------------------------------------------------->

<p>The following standard device extensions provide a framework for
working specific types of data:</p>

<ul>

<li><a href='driverPoint.html'>Point</a>: For reading and writing proxy points.</li>

<li><a href='driverHistory.html'>History</a>: For importing and exporting histories.</li>

<li><a href='driverAlarm.html'>Alarm</a>: For routing incoming and outgoing alarms.</li>

<li><a href='driverSchedule.html'>Schedule</a>: Used to perform master/slave scheduling.</li>

</ul>

<!------------------------------------------------------------->
<h1>User Interfaces</h1>
<!------------------------------------------------------------->

<p> The driver framework provides a comprehensive set of APIs for
building tools for managing configuration and learns based on the
<a href='module://docDeveloper/doc/workbench-wb/javax/baja/workbench/mgr/package-index.bajadoc'>AbstractManager</a> API.
Also see the <a href='arch-driverLearn.html'>Driver Learn</a> illustration.




<!-- Auto-generated Footer NavBar --><p class="navbar">  <a href="/doc/index.html" class="navbar">Index</a> |  <a href="/doc/search.html" class="navbar">Prev</a> |  <a href="/doc/driverPoint.html" class="navbar">Next</a></p>
<!-- Auto-generated copyright note --><p class='copyright'></p>
</body>
</html>
