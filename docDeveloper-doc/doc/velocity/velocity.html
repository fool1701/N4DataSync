<!-- Htmldoc has been run -->
<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<link rel='stylesheet' href='module://docDeveloper/rc/sunlight.default.css'>
<!-- Auto-generated style sheet link --><link rel='StyleSheet' href='module://bajaui/doc/style.css' type='text/css' />
<!-- Auto-generated js link for Activity Monitoring --><script type='text/javascript' src='module://web/rc/util/activityMonitor.js'></script>
<script type='text/javascript'>window.addEventListener('load', activityMonitor.start);</script>
</head>
<body>
<!-- Auto-generated Header NavBar --><p class="navbar">  <a href="/doc/index.html" class="navbar">Index</a> |  <a href="/doc/servlets/exporters.html" class="navbar">Prev</a> |  <a href="/doc/velocity/pxVelocity.html" class="navbar">Next</a></p>

<script type='text/javascript' src='module://docDeveloper/rc/sunlight-min.js'></script>
<script type='text/javascript' src='module://docDeveloper/rc/sunlight.java-min.js'></script>
<script type='text/javascript' src='module://docDeveloper/rc/sunlight.javascript-min.js'></script>
<script type='text/javascript' src='module://docDeveloper/rc/sunlight.xml-min.js'></script>
<script type='text/javascript' src='module://docDeveloper/rc/sunlight.css-min.js'></script>
<script type='text/javascript' src='module://docDeveloper/rc/niagara-sunlight-support.js'></script>

<h1 id="apache-velocity">Apache Velocity</h1>
<p>Apache Velocity is an open source web template engine that&rsquo;s now integrated into the Niagara framework. It provides users with the ability to script an HTML page together using a very simple scripting language.</p>
<p>For more information on understanding what Velocity is, please visit the Apache website <a href="http://velocity.apache.org">here</a>.</p>
<p>The user guide for using Velocity can be found <a href="http://velocity.apache.org/engine/devel/user-guide.html">here</a>.</p>
<p>Velocity support was added to Niagara AX in version 3.7.</p>
<h2 id="users">Users</h2>
<p>The Velocity API is not just for developers but can also be used by advanced users. Advanced users can take advantage of Velocity through Station Components that one can configure from the <code>axvelocity</code> palette.</p>
<h2 id="velocity-station-components">Velocity Station Components</h2>
<p><em>The AX Velocity Station Components require the &lsquo;axvelocity&rsquo; license feature.</em></p>
<p>There are multiple ways to use Velocity. Advanced users (who aren&rsquo;t necessarily fully trained Niagara developers) can configure a Station using Components from the <code>axvelocity</code> palette.</p>
<h3 id="getting-started">Getting Started</h3>
<ul>
  <li>Create a new Station
    <ul>
      <li>Add a NumericWritable and BooleanWritable to the root of the Station.</li>
      <li>Open the <code>axvelocity</code> palette and drag and drop the VelocityServlet into the Station.</li>
    </ul>
  </li>
  <li>Double click the Servlet, this opens the Velocity Document Manager View.</li>
  <li>In this view, the name of the Servlet can be set and new Velocity Document Components can be created.</li>
  <li>Create a new Velocity Document Component.
    <ul>
      <li>Make sure the template file for the Document Component is <code>file:^test.vm</code>.</li>
      <li>This text file will be located in the root of the Station&rsquo;s file system.</li>
      <li>Create this file using Workbench but leave it blank for now.</li>
      <li>Double click on the newly created Document Component, this will load the Velocity Context Element Manager View.</li>
    </ul>
  </li>
  <li>Create two Velocity Context Ord Elements.
    <ul>
      <li>Set the ORD Property on one of the Elements to point to the NumericWritable you created earlier. The name of the Element should be <code>numPoint</code>.</li>
      <li>Set the ORD Property of the other Element to point to the BooleanWritable you created earlier. The name of the Element should be <code>boolPoint</code>.</li>
    </ul>
  </li>
  <li>Now edit the <code>vm</code> file you created earlier.
    <ul>
      <li>This file will contain the HTML for our web view as well as some VTL (Velocity Template Language) script to dynamically generate part of the web page.</li>
      <li>We&rsquo;re now going to reference the two points (via the Velocity Context ORD Elements) we created earlier.</li>
      <li>Use this HTML in the view&hellip;</li>
    </ul>
  </li>
</ul>
<pre><code class="sunlight-highlight-xml">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My first Velocity test!&lt;/title&gt; 
  &lt;/head&gt;
  &lt;body&gt;   
    &lt;p&gt;Boolean Point: $boolPoint&lt;/p&gt; 
    &lt;p&gt;Numeric Point: $numPoint&lt;/p&gt;      
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
  <li>Save the text file.</li>
  <li>Open a web browser and log on to Niagara. Logging on as <code>admin</code> will do.</li>
  <li>Change the URL to point to <code>http://localhost/velocity/test</code> (localhost can be changed to an IP address of your choice).
    <ul>
      <li>Note that <code>velocity</code> is the name of the servlet.</li>
      <li>Note that <code>test</code> is the name of the Document Component you created earlier.</li>
    </ul>
  </li>
  <li>The page should now load.
    <ul>
      <li>Note how the HTML typed in the <code>vm</code> file has been used for this view.</li>
      <li>Note how <code>$boolPoint</code> and <code>$numPoint</code> has been replaced with real point data.</li>
    </ul>
  </li>
</ul>
<h3 id="component-description">Component Description</h3>
<ul>
  <li>VelocityServlet: the Servlet used by the Web Service to generate the web based view. The Servlet is accessed through a Web Browser by <code>http://yourIpAddress/velocity</code>. Please note the name of the Servlet can be changed from &lsquo;velocity&rsquo; to something else in the Velocity Document Manager View. The Velocity Document Manager is the default view for this Component.</li>
  <li>VelocityDoc: a Document Component has a reference to a VM file and acts as a container for Velocity Context Elements. The VM file contains the HTML and VTL script used to generate a web page.</li>
  <li>VelocityContextOrdElement: this Component has an ORD Property that&rsquo;s used to point to another Component in the Station. The name of the Element is used in the VTL file so it can be referenced.</li>
  <li>VelocityDocWebProfile: this is a Web Profile a user can select for VelocityDoc Components. If the VelocityDoc Component has its <code>useProfile</code> Property set to true, this Profile will be used to generate the outer HTML page. For more information, please see the section on profiling.</li>
</ul>
<h3 id="security">Security</h3>
<p>Only a user with operator read permissions on a VelocityDoc Component can access that through the Velocity Servlet.</p>
<h3 id="navigation">Navigation</h3>
<p>Accessing a particular VelocityDoc through a browser can be done in a variety of ways. For example&hellip;</p>
<p><em>The <code>velocity</code> Servlet name can be changed by a user</em>.</p>
<ul>
  <li><code>http://localhost/velocity</code> - this will redirect to the first valid VelocityDoc that can be found for the user.</li>
  <li><code>http://localhost/velocity/test</code> - this will load the VelocityDoc named <code>test</code>.</li>
  <li><code>http://localhost/ord?station:%7Cslot:/VelocityServlet</code> - this will redirect to the first valid VelocityDoc that can be found for the user.</li>
  <li><code>http://localhost/ord?station:%7Cslot:/VelocityServlet%7Cview:test</code> - this will redirect to the VelocityDoc named <code>test</code>.</li>
  <li><code>station:|slot:/VelocityServlet|view:test</code> - an ORD that can be used as a hyperlink in a Px page. This will redirect to the VelocityDoc named <code>test</code>.</li>
</ul>
<p><em>Specifying the ORD to the Servlet Component in a NavFile is a really great way to get to your VelocityDoc using Niagara.</em></p>
<h4 id="view-parameters">View parameters</h4>
<p>Parameters can be passed into a view via a URI (or ORD that redirects to a URI). For instance&hellip;</p>
<ul>
  <li><code>http://localhost/velocity/test?param1=val1&amp;param2=val2</code> - passes two parameters into a view.</li>
  <li><code>station:|slot:/VelocityServlet|view:test?param1=val1;param2=val2</code> - an ORD that can be used as a hyperlink in a Px page. This will redirect to the VelocityDoc named test with the specified parameters.</li>
</ul>
<p>The parameters can be picked up from VTL code. For example&hellip;</p>
<pre><code class="sunlight-highlight-xml">## Iterate through any query parameters used in the URL
#set( $parameters = $ax.op.getRequest().getParameterNames() )
#foreach ( $param in $parameters )
&lt;p&gt;
  Found parameter: $param - $ax.op.getRequest().getParameter($param) 
&lt;/p&gt;
#end
</code></pre>
<h4 id="parameters-via-post">Parameters via POST</h4>
<p>Parameters can also be passed to the Velocity Servlet via HTTP POST.</p>
<p>POST provides an advantage over view parameters because browsers can impose a maximum length for URLs limiting the amount of data that can be transmitted via an HTTP GET.</p>
<p>Data is sent via POST to the servlet URL such as <code>http://localhost/velocity/test</code> and this data can then be accessed via <code>$ax.op.getRequest().getParameter(PARAMETER_NAME)</code> like the data is accessed in the view parameter example.</p>
<p>HTTP POST data <em>cannot</em> be sent to an ORD path such as <code>http://localhost/ord?station:%7Cslot:/VelocityServlet%7Cview:test</code> because the POST data is lost during the redirect.</p>
<h5 id="example">Example:</h5>
<p>Create a VelocityDoc inside of your Velocity Servlet and name it <code>postSender</code>.</p>
<p>Add the following content:</p>
<pre><code class="sunlight-highlight-xml">&lt;form method=&quot;post&quot; action=&quot;/velocity/test&quot;&gt;
  &lt;label&gt;First name:&lt;/label&gt;
  &lt;input name=&quot;firstname&quot; /&gt;
  &lt;label&gt;Last name:&lt;/label&gt;
  &lt;input name=&quot;lastname&quot; /&gt;
  &lt;input type=&quot;submit&quot; id=&quot;SubmitButton&quot; /&gt;
&lt;/form&gt;
</code></pre>
<p>This form will send the POST data to the <code>test</code> VelocityDoc of the Velocity Servlet. Next, create the page named test and give it the following content:</p>
<pre><code class="sunlight-highlight-xml">&lt;p&gt;First Name: $ax.op.getRequest().getParameter(&quot;firstname&quot;)&lt;/p&gt; 
&lt;p&gt;Last Name: $ax.op.getRequest().getParameter(&quot;lastname&quot;)&lt;/p&gt;
</code></pre>
<p>When the user clicks submit, the data will be sent to the <code>test</code> VelocityDoc on the Velocity Servlet. This page will then display the POST data on the page.</p>
<h2 id="profiling">Profiling</h2>
<p>Profiling is an advanced feature of working with VelocityDoc Station Components. A Profile generates the outer HTML content while the VelocityDoc generates the inner.</p>
<h3 id="getting-started">Getting Started</h3>
<ul>
  <li>Create a user who has their Default Web Profile set to <code>Velocity Doc Web Profile</code>.
    <ul>
      <li>Create a VM file for the profile (i.e. <code>file:^profile.vm</code>). The VM file should have code similar to the following&hellip;</li>
      <li>Set the Template File ORD on the Profile to this VM file.</li>
    </ul>
  </li>
</ul>
<pre><code class="sunlight-highlight-xml">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Velocity Profile&lt;/title&gt; 
    #set($generateHeader = true)

    ## Parse the inner view for the header...
    #parse(&quot;$ax.viewTemplate&quot;)

    #set($generateHeader = false)
  &lt;/head&gt;
  &lt;body&gt;            
    &lt;h2&gt;Path: $ax.target.getPathInfo()&lt;/h2&gt;

    ## Parse the inner view for the header...  
    #parse(&quot;$ax.viewTemplate&quot;)

  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code>* The Profile creates the outer HTML and then calls `#parse(&quot;$ax.viewTemplate&quot;)` to the inner HTML.
* Note how the `$generateHeader` flag is used to determine whether the header of the body of the 
HTML document is being generated.
</code></pre>
<ul>
  <li>Create a VelocityDoc Component that has its <code>useProfile</code> Property set to true.
    <ul>
      <li>When the VelocityDoc Component view is accessed through a browser (with the Profile we&rsquo;ve just set up), the VelocityDoc will rely on the Profile generating the outer HTML.</li>
      <li>If the VelocityDoc&rsquo;s <code>useProfile</code> Property is set to false, the VelocityDoc is responsible for generating the whole of the HTML document (just as before).</li>
      <li>Here&rsquo;s an example of the VTL for the VelocityDoc&rsquo;s VM file&hellip;</li>
    </ul>
  </li>
</ul>
<pre><code class="sunlight-highlight-xml">#if ($generateHeader)
  ## Anything for the header of the HTML page goes here.
#else
  ## Anything for the body of the HTML page goes here.
  &lt;h3&gt;This is from the body of the view&lt;/h3&gt;
#end
</code></pre>
<p>*Note how the <code>$generateHeader</code> (created by the Profile) is used to determine whether code is being generated for the HTML document&rsquo;s header or body.</p>
<p><em>The &lsquo;Velocity Doc Web Profile&rsquo; must always be used to access VelocityDoc views that have their &lsquo;useProfile&rsquo; Property set to true!</em></p>
<h2 id="standard-velocity-java-api">Standard Velocity Java API</h2>
<p>Velocity can be used by Java developers to create Velocity based views. A developer who uses this API should have been on the Developer Course and hence should be a fully trained Niagara Jedi.</p>
<h3 id="bvelocityview">BVelocityView</h3>
<p>BVelocityView extends BServletView. This class forms the basis for any Velocity based view. A view may or may not work in conjunction with a BVelocityWebProfile.</p>
<h3 id="getting-started">Getting Started</h3>
<ul>
  <li>Create a new class that extends BVelocityView.</li>
  <li>Implement the <code>getTemplateFileMethod</code>.
    <ul>
      <li>This method will return an ORD to a file resource that contains the HTML and VTL used to generate the HTML.</li>
      <li>For debugging, it might be easier to point this to a file in your local Station&rsquo;s file system.</li>
      <li>For distribution, it&rsquo;s best to reference a file from a Niagara module (using the <code>module</code> ORD scheme).</li>
    </ul>
  </li>
  <li>Override the <code>initVelocityContext</code> method.
    <ul>
      <li>Overriding this method allows a developer to inject new things into a VelocityContext.</li>
      <li>Anything added to the VelocityContext can be referenced from VTL.</li>
    </ul>
  </li>
</ul>
<h3 id="bivelocitywebprofile">BIVelocityWebProfile</h3>
<p>An interface used by any profile that wants to act as a Velocity Web Profile.</p>
<h3 id="bvelocitywebprofile">BVelocityWebProfile</h3>
<p>A Web Profile that implements BIVelocityWebProfile.</p>
<p>A Velocity Web Profile has it&rsquo;s own VM file used to render the overall page. In the Velocity Context, there&rsquo;s a symbol called <code>$ax.viewTemplate</code> that be then be used by the profile VTL to render the underlying view.</p>
<h3 id="velocitycontextutil">VelocityContextUtil</h3>
<p>This is a useful library of functions that can be called via VTL. In VTL, this library can be referenced via &lsquo;$ax.util&rsquo; or &lsquo;$util&rsquo;. For more information on use please see Niagara VTL.</p>
<h2 id="hx-velocity-views">Hx Velocity Views</h2>
<p>To enhance Hx development, some Hx Velocity views have been added.</p>
<p>In Hx development, a developer would normally write out an Hx view&rsquo;s initial HTML by overriding BHxView&rsquo;s <code>write</code> method. In the following Velocity Hx classes, this method has already been overridden and will return output from Velocity.</p>
<h3 id="bvelocityhxview">BVelocityHxView</h3>
<p>This class extends BHxView.</p>
<p>This class follows the same design as BVelocityView.</p>
<p><em>Note: the HxOp can be referenced from the VTL from <code>$ax.op</code>. For instance, <code>$ax.op.scope('idOrName')</code>.</em></p>
<h3 id="bvelocityhxfieldeditor">BVelocityHxFieldEditor</h3>
<p>An Hx Field Editor that uses Velocity.</p>
<h3 id="bvelocityhxpxwidget">BVelocityHxPxWidget</h3>
<p>An Hx Px Widget that uses Velocity.</p>
<h2 id="niagara-vtl">Niagara VTL</h2>
<p>Common to all Velocity based views are some really useful Niagara related methods and properties that are accessed through the Velocity Context.</p>
<h3 id="use-cases">Use Cases</h3>
<p>There&rsquo;s a LOT we could add to the VelocityContext. However, to try and stem the tide, we&rsquo;ve developed this feature around the following use cases&hellip;</p>
<p>*For anything &lsquo;live&rsquo;, please consider using BajaScript. It does all of the &lsquo;live&rsquo; things (like invoking an Action for instance) that Velocity isn&rsquo;t designed to do!</p>
<ul>
  <li>To print out the value of a point. This includes any facets for units, precision etc.</li>
  <li>To resolve an ORD to a point and print out its value.</li>
  <li>To resolve an ORD with a base and print out its value.</li>
  <li>To resolve an ORD to a table.
    <ul>
      <li>To then be able to iterate through the results.</li>
      <li>To generate an HTML table from the results.</li>
      <li>To print out fully localized display Strings of each value in the table (i.e. that use any necessary units and precision).</li>
    </ul>
  </li>
  <li>To create a hyperlink from an ORD or mounted Component.</li>
  <li>To print out translated values from a Lexicon.</li>
  <li>To print out translated values from a Lexicon (with parameters).</li>
  <li>To iterate through a Component&rsquo;s children.
    <ul>
      <li>To iterate through a Component&rsquo;s children of a specific Type.</li>
    </ul>
  </li>
  <li>To test with a particular value is of a certain Type.</li>
  <li>To detect whether a Property should be hidden.
    <ul>
      <li>This includes checking for the hidden Slot flag as well as Types we never typically want the user to see (i.e. BLink, BNameMap (displayNames) and BWsAnnotation).</li>
    </ul>
  </li>
  <li>To detect whether a user has appropriate read, write and invoke security permissions on a particular Slot or Component.</li>
  <li>To easily be able to include BajaScript into a Velocity View.</li>
  <li>To easily be able to include jQuery into a Velocity View.</li>
</ul>
<h3 id="api">API</h3>
<p>The core Niagara Velocity related methods and properties are part of the <code>$ax</code> namespace. Some sub-namespaces (i.e. <code>$ax.util</code>) are consider so useful that we&rsquo;ve also added them to the global namespace (i.e. $util).</p>
<h4 id="core-ax-namespace">Core ax namespace</h4>
<ul>
  <li><code>$ax.session</code>: the HttpSession being used to the current request.</li>
  <li><code>$ax.target</code>: the OrdTarget for the current request.</li>
  <li><code>$ax.cx</code>: the Context for the current request.</li>
  <li><code>$ax.op</code>: the WebOp for the current request.</li>
  <li><code>$ax.obj</code>: the resolved object for the current request (from <code>OrdTarget#get()</code>).</li>
  <li><code>$ax.profile</code>: the web profile being used.</li>
  <li><code>$ax.Flags</code>: javax.baja.sys.Flags.</li>
  <li><code>$ax.lang</code>: the language for the current request.</li>
  <li><code>$ax.user</code>: the user for the current request.</li>
</ul>
<h4 id="util-namespace">Util namespace</h4>
<p>This can be accessed via <code>$ax.util</code> or <code>$util</code>.</p>
<p>All methods are fully listed (and commented) in <code>javax.baja.velocity.VelocityContextUtil</code>.</p>
<p>The methods are designed to be easy to use and in some cases can take a variety of argument Types (just like in JavaScript).</p>
<p>For convenience here&rsquo;s an overview&hellip;</p>
<h4 id="value-access">Value Access</h4>
<ul>
  <li><code>$util.get(&quot;station:|slot:/&quot;)</code>: resolves an ORD returns the object. If the result is a mounted Component, it will be leased.
    <ul>
      <li>The argument can be a String or an BOrd.</li>
      <li>If this ORD resolves to a table, then an array will be returned that can be iterated through.</li>
    </ul>
  </li>
  <li><code>$util.get(&quot;slot:BooleanWritable&quot;, &quot;station:|slot:/&quot;)</code>: same as above except this can also take a base to help ORD resolution.</li>
  <li>Specifying a base is great for creating reusable VM files.
    <ul>
      <li>The base can be an BOrd, String (that get resolves as an BOrd) or a BObject that will get used to resolve the ORD.</li>
    </ul>
  </li>
  <li><code>$util.resolve(&quot;station:|slot:/&quot;)</code>: same as &lsquo;get&rsquo; except this resolves to an OrdTarget.</li>
  <li><code>$util.resolve(&quot;slot:BooleanWritable&quot;, &quot;station:|slot:/&quot;)</code>: same as &lsquo;get&rsquo; except this resolves to an OrdTarget.</li>
  <li><code>$util.getChildren(complex)</code>: return an array of children of a BComplex.
    <ul>
      <li>The argument can be BComplex or a BOrd (or String) that resolves to a BComplex.</li>
    </ul>
  </li>
  <li><code>$util.getChildren(complex, &quot;myModule:MyType&quot;)</code>: return an array of children from a Complex of a specific Type.
    <ul>
      <li>The first argument can be BComplex or a BOrd (or String) that resolves to a BComplex.</li>
      <li>The second argument can be a Type or String to filter what children are returned.</li>
    </ul>
  </li>
  <li><code>$util.is(complex, &quot;myModule:MyType&quot;)</code>: returns a boolean indicating whether the specified value is of the specified Type.
    <ul>
      <li>The second argument can be a Type or String.</li>
    </ul>
  </li>
</ul>
<h4 id="misc">Misc</h4>
<ul>
  <li><code>$util.ord(&quot;station:|slot:/&quot;, &quot;bql:select * from baja:Component&quot;)</code>: creates a normalized ORD from a base and child. The argument can be BOrd or String.</li>
  <li><code>$util.lex(&quot;bajaui&quot;).get(&quot;dialog.ok&quot;)</code>: get a Lexicon value.
    <ul>
      <li><code>$util.lex(&quot;bajaui&quot;).getText(&quot;fileSearch.scanningFiles&quot;, &quot;first&quot;, &quot;second&quot;)</code>: get a Lexicon value with parameters.</li>
      <li>Please note that  <code>$util.lex(&quot;bajaui&quot;)</code> simply returns the Lexicon for the given module name.</li>
    </ul>
  </li>
  <li><code>$util.requirejs()</code>: adds require js support. You need to add this at the top of the document if you want to use BajaScript or any of the new web technologies added to Niagara 4.</li>
</ul>
<h4 id="display">Display</h4>
<ul>
  <li><code>$util.getDisplay(complex)</code>: returns a display string for the given complex.
    <ul>
      <li>The argument can also be an BOrd (or String that get resolves as an BOrd) that resolves to a BComplex.</li>
    </ul>
  </li>
  <li><code>$util.getDisplay(&quot;slot:BooleanWritable&quot;, base)</code>: returns a display string for the given complex. If an ORD is specified as the argument then the base is used to help resolve it.
    <ul>
      <li>The first argument can also be an BOrd (or String that get resolves as an BOrd) that resolves to a BComplex.</li>
      <li>The base argument can be a BOrd (or String that get resolves as a BOrd) or a BObject used to help resolve any ORDs.</li>
    </ul>
  </li>
  <li><code>$util.getDisplayFromProperty(complex, prop)</code>: returns a display string for the given complex and Property.
    <ul>
      <li>The first argument can also be an BOrd (or String that get resolves as an BOrd) that resolves to a BComplex.</li>
      <li>The second argument can be a Property or a Property name (String).</li>
    </ul>
  </li>
  <li><code>$util.getDisplayFromProperty(complex, prop, base)</code>: returns a display string for the given complex and Property.
    <ul>
      <li>The first argument can also be an BOrd (or String that get resolves as an BOrd) that resolves to a BComplex.</li>
      <li>The second argument can be a Property or a Property name (String).</li>
      <li>The base argument can be a BOrd (or String that get resolves as a BOrd) or a BObject used to help resolve any ORDs.</li>
    </ul>
  </li>
</ul>
<h4 id="slot-access">Slot Access</h4>
<ul>
  <li><code>$util.isHidden(complex, slot)</code>: returns a boolean indicating whether the specified slot should be hidden.
    <ul>
      <li>The first argument can be a BComplex or a BOrd (or String) that resolves to a BComplex.</li>
      <li>The second argument can be a Slot or a Slot name (String).</li>
      <li>This method will also filter out Types that aren&rsquo;t typically shown on a Property Sheet (i.e. BWsAnnotation, BLink and BNameMap (displayNames).</li>
    </ul>
  </li>
  <li><code>$util.canRead(component)</code>: returns a boolean whether the currently logged on user has read permissions on the specified Component.
    <ul>
      <li>The argument can be BComponent or BOrd (or String) that resolves to a BComponent.</li>
    </ul>
  </li>
  <li><code>$util.canRead(component, slot)</code>: returns a boolean whether the currently logged on user has read permissions to access the specified Slot.
    <ul>
      <li>The first argument can be BComponent or BOrd (or String) that resolves to a BComponent.</li>
      <li>The second argument can be a Slot or a Slot name (String).</li>
    </ul>
  </li>
  <li><code>$util.canWrite(component, slot)</code>: returns a boolean whether the currently logged on user has write permissions to access the specified Slot.
    <ul>
      <li>The first argument can be BComponent or BOrd (or String) that resolves to a BComponent.</li>
      <li>The second argument can be a Slot or a Slot name (String).</li>
    </ul>
  </li>
  <li><code>$util.canInvoke(component, slot)</code>: returns a boolean whether the currently logged on user has invoke permissions to access the specified Slot.
    <ul>
      <li>The first argument can be BComponent or BOrd (or String) that resolves to a BComponent.</li>
      <li>The second argument can be a Slot or a Slot name (String).</li>
    </ul>
  </li>
</ul>
<h4 id="jquery">jQuery</h4>
<ul>
  <li><code>$util.jQuery()</code>: returns the HTML script tag to include jQuery.</li>
</ul>
<h4 id="activity-monitoring">Activity Monitoring</h4>
<p><a href="../autoLogoff.html">Auto Log Off</a> automatically logs a user off if there is no activity for a set period of time. Activity monitoring helps notify the server that the user is still active and prevents the server from<br />
invalidating the session if there is any valid activity. Auto log off support is built right into the Velocity context and can be accessed via utility methods.</p>
<ul>
  <li><code>$util.startActivityMonitor()</code> : Helps send periodic user activity back to the server.</li>
  <li><code>$util.keepSessionAlive()</code> : Sends periodic status requesting the server not to auto log off in case of no activity.</li>
  <li><code>$util.releaseKeepAliveToken()</code> : Call this when your view is unloaded or you no longer require to keep the view alive.</li>
</ul>
<p><strong><em>Note:</em></strong> If RequireJS is available use <code>$util.requirejs()</code> before using the activity monitoring utilities.</p>
<p>Sample usage:</p>
<pre><code class="sunlight-highlight-xml">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My first Velocity test!&lt;/title&gt;
    $util.startActivityMonitor()
  &lt;/head&gt;
  &lt;body&gt;   
    &lt;p&gt;Boolean Point: $boolPoint&lt;/p&gt; 
    &lt;p&gt;Numeric Point: $numPoint&lt;/p&gt;      
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<script type='text/javascript'>window.niagara.docDevUtil.highlightCode();</script>

<!-- Auto-generated Footer NavBar --><p class="navbar">  <a href="/doc/index.html" class="navbar">Index</a> |  <a href="/doc/servlets/exporters.html" class="navbar">Prev</a> |  <a href="/doc/velocity/pxVelocity.html" class="navbar">Next</a></p>
<!-- Auto-generated copyright note --><p class='copyright'></p>
</body>
</html>
