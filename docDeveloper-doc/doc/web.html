<!-- Htmldoc has been run -->
<!--
   @author    Brian Frank
   @creation  10 Jul 03
   @version   $Revision$ $Date$
   @since     Niagara 3.0
 -->
 
<html>

<head>
<title>Web</title>
<!-- Auto-generated style sheet link --><link rel='StyleSheet' href='module://bajaui/doc/style.css' type='text/css' />
<!-- Auto-generated js link for Activity Monitoring --><script type='text/javascript' src='module://web/rc/util/activityMonitor.js'></script>
<script type='text/javascript'>window.addEventListener('load', activityMonitor.start);</script>
</head>

<body>
<!-- Auto-generated Header NavBar --><p class="navbar">  <a href="/doc/index.html" class="navbar">Index</a> |  <a href="/doc/workbench.html" class="navbar">Prev</a> |  <a href="/doc/px.html" class="navbar">Next</a></p>


<!-- Title Block -->
<h1 class='title'>Web</h1> 

<!------------------------------------------------------------->
<h1>Overview</h1>
<!------------------------------------------------------------->

<p>                          
The <a href='module://docDeveloper/doc/web-rt/module-index.bajadoc'>web</a> module is used
to provide HTTP connectivity to a station via the 
<code><a href='module://docDeveloper/doc/web-rt/javax/baja/web/BWebService.bajadoc'>BWebService</a></code>.  
The web module provides a layered set of abstractions for serving HTTP 
requests and building a web interface:
</p>                                                                       

<ul> 

<li><b>Servlet</b>: a standard <code>javax.servlet</code> API provides the
lowest level of web integration.</li>

<li><b>ServletView</b>: is used to provide object views in a web interface.</li>

<li><b>Web Workbench</b>: is technology which enables the standard workbench to
be run in a browser.</li>

<li><b>Hx</b>: is technology used to build web interfaces using only 
standards: HTML, JavaScript, and CSS.</li>

</ul>

<!------------------------------------------------------------->
<h1>Servlet</h1>
<!------------------------------------------------------------->

<p>
Niagara provides a standard <a href='http://docs.oracle.com/javaee/6/api/javax/servlet/http/package-summary.html'>javax.servlet</a>
API to service HTTP requests.  The <code><a href='module://docDeveloper/doc/web-rt/javax/baja/web/WebOp.bajadoc'>WebOp</a></code>
class is used to wrap <code><a href='http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html'>HttpServletRequest</a></code>  
and <code><a href='http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html'>HttpServletResponse</a></code>.  
<code>WebOp</code> implements <code>Context</code> to provide additional 
Niagara specific information.  These APIs form the basis for the rest of the 
web framework.
</p>

<p> 
The <code><a href='module://docDeveloper/doc/web-rt/javax/baja/web/BWebServlet.bajadoc'>BWebServlet</a></code> 
component is used to install a basic servlet which may be installed into a 
station database.  The <code>servletName</code> is used to define how the 
servlet is registered into the URI namespace.  A <code>servletName</code> 
of "foo" would receive all requests to the host that started with "/foo".
Servlets are automatically registered into the URI namespace on their 
component <code>started()</code> method and unregistered on 
<code>stopped()</code>.  The <code>service()</code> or 
<code>doGet()/doPost()</code> methods are used to process HTTP requests.
</p>                 

<p class='note'>
Note: The current <code>javax.servlet</code> implementation is based on
version 2.4.  The following interfaces and methods are not supported:
<ul>
<li><b>javax.servlet.Filter</b>: Unsupported interface
<li><b>javax.servlet.FilterChain</b>: Unsupported interface
<li><b>javax.servlet.FilterConfig</b>: Unsupported interface
<li><b>javax.servlet.RequestDispatcher</b>: Unsupported interface
<li><b>javax.servlet.ServletContext</b>: Unsupported methods
<ul>
<li>getNamedDispatcher(String)
<li>getRequestDispatcher(String)
<li>getResource(String)
<li>getResourceAsStream(String)
<li>getResourcePaths(String)
<li>getServlet(String)
<li>getServlets()
<li>getServletContextName(String)
</ul>
<li><b>javax.servlet.ServletRequest</b>: Unsupported method
<ul>
<li>getRequestDispatcher(String)
</ul>
<li><b>javax.servlet.ServletRequestAttributeListener</b>: Unsupported interface
<li><b>javax.servlet.ServletRequestListener</b>: Unsupported interface
<li><b>javax.servlet.http.HttpSessionActivationListener</b>: Unsupported interface
<li><b>javax.servlet.http.HttpSessionAttributeListener</b>: Unsupported interface
<li><b>javax.servlet.http.HttpSessionListener</b>: Unsupported interface
</ul>
</p>

<!------------------------------------------------------------->
<h1>ServletView</h1>
<!------------------------------------------------------------->

<p>
The web framework follows an object oriented model similar to the 
workbench.  The user navigates to objects within the station using
ords.  One or more web enabled views are used to view and edit each 
object.  
</p>

<p>
When navigating objects using ords, Niagara must map ords into the
URI namespace.  This is done with the URI format of "/ord?<i>ord</i>".
</p>

<p>
The <code><a href='module://docDeveloper/doc/web-rt/javax/baja/web/BServletView.bajadoc'>BServletView</a></code> 
class is used to build servlets that plug into the ord space using the
"view:" scheme.  For example if you wish to display an HTML table for every
instance of component type "Foo", you could create a ServletView called 
"FooTable".  Given an instance of "Foo", the URI to access that view might
be "/ord?slot:/foo3|view:acme:FooTable".  The <code>WebOp</code> passed
to <code>BServletView.service()</code> contains the target object being
viewed (note <code>WebOp</code> subclasses from 
<code><a href='module://docDeveloper/doc/baja-rt/javax/baja/naming/OrdTarget.bajadoc'>OrdTarget</a></code>). 
</p>

<!------------------------------------------------------------->
<h1>Niagara Web Launcher</h1>
<!------------------------------------------------------------->

<p class='note'>
Note: WebLauncher will be removed in the future, as it is older technology
that has become increasingly difficult to support and maintain. In the meantime,
we strongly recommend users implement new Niagara views using bajaux and
migrate all existing views to incorporate bajaux therein.
</p>

<p> 
A nice feature of Niagara's web framework is the ability to run the
entire Workbench right in a browser embedded inside a lightweight client
application called the Niagara Web Launcher. This <i>application</i>
allows almost any view (or plugin) to run transparently in both a desktop
and browser environment.  The following process illustrates how
Niagara Web Launcher works:
</p>                                          

<ol>  
<li>User launches the application via a link on the login screen.</li>
<li>The application must be pre-installed on the client's machine.
    If not the user is redirected to another web page that contains
    installation instructions.</li>
<li>The application loads modules from the station as needed, and caches them
    on the local drive.</li>
<li>The Workbench opens a fox connection under the covers for Workbench to
    station communication.</li>
<li>The Workbench displays itself inside the application using the respective
    WbProfile and WbView.</li>    
</ol> 

<p> 
Niagara Web Launcher allows a sophisticated UI to be downloaded to
a lightweight application directly from the JACE.  It is downloaded the first time
and cached - speeding up subsequent access.  Development for web versus desktop Workbench is
completely transparent.  The only difference is that the 
<code><a href='module://docDeveloper/doc/workbench-wb/javax/baja/workbench/BWbProfile.bajadoc'>BWbProfile</a></code> 
used for a web interface must subclass from 
<code><a href='module://docDeveloper/doc/workbench-wb/javax/baja/workbench/web/BWbWebProfile.bajadoc'>BWbWebProfile</a></code>. 
Some functionality is limited only to the desktop like the ability to 
access the console and Jikes compiler.  Also note that Niagara Web Launcher
session is limited to a specific station.  So it doesn't make sense to
navigate to ords outside that station such a "local:|file:".
</p>

<p class='note'>
Note: in order for web workbench to be used, the client browser
machine must have access to the station's fox port. This may require 
the fox port to be opened up in the firewall.
</p>

<!------------------------------------------------------------->
<h1>Hx</h1>
<!------------------------------------------------------------->

<p> 
There are cases where using the workbench is overkill or we don't
wish to require the Java Plugin.  For these use cases, Niagara 
provides the <i>hx</i> technology.  Hx is a mini-framework used
to build real-time web interfaces only with standard HTML, JavaScript,
and CSS.  See the <a href='hx.html'>hx</a> chapter for details.
</p>

<!------------------------------------------------------------->
<h1>WebProfileConfig</h1>
<!------------------------------------------------------------->

<p>
The web experience of a given user is controlled via the
<code><a href='module://docDeveloper/doc/web-rt/javax/baja/web/BWebProfileConfig.bajadoc'>BWebProfileConfig</a></code> 
class.  <code>WebProfileConfig</code> is a MixIn added to every 
<code>User</code> component.  The web profile determines whether web 
workbench or hx is used by specifying an WbProfile or HxProfile for
the user. 
</p>


<!-- Auto-generated Footer NavBar --><p class="navbar">  <a href="/doc/index.html" class="navbar">Index</a> |  <a href="/doc/workbench.html" class="navbar">Prev</a> |  <a href="/doc/px.html" class="navbar">Next</a></p>
<!-- Auto-generated copyright note --><p class='copyright'></p>
</body>
</html>
